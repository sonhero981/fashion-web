{"ast":null,"code":"import { OLD_AKAMAI_SHARED_CDN, SHARED_CDN } from \"../consts.js\";\nexport function unsigned_url_prefix(source, cloud_name, private_cdn, cdn_subdomain, secure_cdn_subdomain, cname, secure, secure_distribution) {\n  let prefix;\n\n  if (cloud_name.indexOf(\"/\") === 0) {\n    return '/res' + cloud_name;\n  }\n\n  let shared_domain = !private_cdn;\n\n  if (secure) {\n    if (secure_distribution == null || secure_distribution === OLD_AKAMAI_SHARED_CDN) {\n      secure_distribution = private_cdn ? cloud_name + \"-res.cloudinary.com\" : SHARED_CDN;\n    }\n\n    if (shared_domain == null) {\n      shared_domain = secure_distribution === SHARED_CDN;\n    }\n\n    prefix = 'https://' + secure_distribution;\n  } else if (cname) {\n    // let subdomain = cdn_subdomain ? 'a' + ((crc32(source) % 5) + 1) + '.' : '';\n    prefix = 'http://' + cname;\n  } else {\n    let cdn_part = private_cdn ? cloud_name + '-' : '';\n    let host = [cdn_part, 'res', '.cloudinary.com'].join('');\n    prefix = 'http://' + host;\n  }\n\n  if (shared_domain) {\n    prefix += '/' + cloud_name;\n  }\n\n  return prefix;\n}","map":{"version":3,"sources":["C:/Users/sonhe/OneDrive/Desktop/New folder/nhom6-csdlnc/client/node_modules/@cloudinary/url-gen/backwards/utils/unsigned_url_prefix.js"],"names":["OLD_AKAMAI_SHARED_CDN","SHARED_CDN","unsigned_url_prefix","source","cloud_name","private_cdn","cdn_subdomain","secure_cdn_subdomain","cname","secure","secure_distribution","prefix","indexOf","shared_domain","cdn_part","host","join"],"mappings":"AAAA,SAASA,qBAAT,EAAgCC,UAAhC,QAAkD,cAAlD;AACA,OAAO,SAASC,mBAAT,CAA6BC,MAA7B,EAAqCC,UAArC,EAAiDC,WAAjD,EAA8DC,aAA9D,EAA6EC,oBAA7E,EAAmGC,KAAnG,EAA0GC,MAA1G,EAAkHC,mBAAlH,EAAuI;AAC1I,MAAIC,MAAJ;;AACA,MAAIP,UAAU,CAACQ,OAAX,CAAmB,GAAnB,MAA4B,CAAhC,EAAmC;AAC/B,WAAO,SAASR,UAAhB;AACH;;AACD,MAAIS,aAAa,GAAG,CAACR,WAArB;;AACA,MAAII,MAAJ,EAAY;AACR,QAAKC,mBAAmB,IAAI,IAAxB,IAAiCA,mBAAmB,KAAKV,qBAA7D,EAAoF;AAChFU,MAAAA,mBAAmB,GAAGL,WAAW,GAAGD,UAAU,GAAG,qBAAhB,GAAwCH,UAAzE;AACH;;AACD,QAAIY,aAAa,IAAI,IAArB,EAA2B;AACvBA,MAAAA,aAAa,GAAGH,mBAAmB,KAAKT,UAAxC;AACH;;AACDU,IAAAA,MAAM,GAAG,aAAaD,mBAAtB;AACH,GARD,MASK,IAAIF,KAAJ,EAAW;AACZ;AACAG,IAAAA,MAAM,GAAG,YAAYH,KAArB;AACH,GAHI,MAIA;AACD,QAAIM,QAAQ,GAAGT,WAAW,GAAGD,UAAU,GAAG,GAAhB,GAAsB,EAAhD;AACA,QAAIW,IAAI,GAAG,CAACD,QAAD,EAAW,KAAX,EAAkB,iBAAlB,EAAqCE,IAArC,CAA0C,EAA1C,CAAX;AACAL,IAAAA,MAAM,GAAG,YAAYI,IAArB;AACH;;AACD,MAAIF,aAAJ,EAAmB;AACfF,IAAAA,MAAM,IAAI,MAAMP,UAAhB;AACH;;AACD,SAAOO,MAAP;AACH","sourcesContent":["import { OLD_AKAMAI_SHARED_CDN, SHARED_CDN } from \"../consts.js\";\nexport function unsigned_url_prefix(source, cloud_name, private_cdn, cdn_subdomain, secure_cdn_subdomain, cname, secure, secure_distribution) {\n    let prefix;\n    if (cloud_name.indexOf(\"/\") === 0) {\n        return '/res' + cloud_name;\n    }\n    let shared_domain = !private_cdn;\n    if (secure) {\n        if ((secure_distribution == null) || secure_distribution === OLD_AKAMAI_SHARED_CDN) {\n            secure_distribution = private_cdn ? cloud_name + \"-res.cloudinary.com\" : SHARED_CDN;\n        }\n        if (shared_domain == null) {\n            shared_domain = secure_distribution === SHARED_CDN;\n        }\n        prefix = 'https://' + secure_distribution;\n    }\n    else if (cname) {\n        // let subdomain = cdn_subdomain ? 'a' + ((crc32(source) % 5) + 1) + '.' : '';\n        prefix = 'http://' + cname;\n    }\n    else {\n        let cdn_part = private_cdn ? cloud_name + '-' : '';\n        let host = [cdn_part, 'res', '.cloudinary.com'].join('');\n        prefix = 'http://' + host;\n    }\n    if (shared_domain) {\n        prefix += '/' + cloud_name;\n    }\n    return prefix;\n}\n"]},"metadata":{},"sourceType":"module"}