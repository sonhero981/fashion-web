{"ast":null,"code":"import { base64Encode } from \"../../internal/utils/base64Encode.js\";\nimport { isObject } from \"../utils/isObject.js\";\n/**\n * Parse custom_function options\n * @private\n * @param {object|*} customFunction a custom function object containing function_type and source values\n * @return {string|*} custom_function transformation string\n */\n\nexport function processCustomFunction(customFunction) {\n  if (!isObject(customFunction)) {\n    return customFunction;\n  }\n\n  if (customFunction.function_type === \"remote\") {\n    const encodedSource = base64Encode(customFunction.source).replace(/\\+/g, '-') // Convert '+' to '-'\n    .replace(/\\//g, '_') // Convert '/' to '_'\n    .replace(/=+$/, ''); // Remove ending '='\n\n    return [customFunction.function_type, encodedSource].join(\":\");\n  }\n\n  return [customFunction.function_type, customFunction.source].join(\":\");\n}","map":{"version":3,"sources":["C:/Users/sonhe/OneDrive/Desktop/New folder/nhom6-csdlnc/client/node_modules/@cloudinary/url-gen/backwards/transformationProcessing/processCustomFunction.js"],"names":["base64Encode","isObject","processCustomFunction","customFunction","function_type","encodedSource","source","replace","join"],"mappings":"AAAA,SAASA,YAAT,QAA6B,sCAA7B;AACA,SAASC,QAAT,QAAyB,sBAAzB;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASC,qBAAT,CAA+BC,cAA/B,EAA+C;AAClD,MAAI,CAACF,QAAQ,CAACE,cAAD,CAAb,EAA+B;AAC3B,WAAOA,cAAP;AACH;;AACD,MAAIA,cAAc,CAACC,aAAf,KAAiC,QAArC,EAA+C;AAC3C,UAAMC,aAAa,GAAGL,YAAY,CAACG,cAAc,CAACG,MAAhB,CAAZ,CACjBC,OADiB,CACT,KADS,EACF,GADE,EACG;AADH,KAEjBA,OAFiB,CAET,KAFS,EAEF,GAFE,EAEG;AAFH,KAGjBA,OAHiB,CAGT,KAHS,EAGF,EAHE,CAAtB,CAD2C,CAIlB;;AACzB,WAAO,CAACJ,cAAc,CAACC,aAAhB,EAA+BC,aAA/B,EAA8CG,IAA9C,CAAmD,GAAnD,CAAP;AACH;;AACD,SAAO,CAACL,cAAc,CAACC,aAAhB,EAA+BD,cAAc,CAACG,MAA9C,EAAsDE,IAAtD,CAA2D,GAA3D,CAAP;AACH","sourcesContent":["import { base64Encode } from \"../../internal/utils/base64Encode.js\";\nimport { isObject } from \"../utils/isObject.js\";\n/**\n * Parse custom_function options\n * @private\n * @param {object|*} customFunction a custom function object containing function_type and source values\n * @return {string|*} custom_function transformation string\n */\nexport function processCustomFunction(customFunction) {\n    if (!isObject(customFunction)) {\n        return customFunction;\n    }\n    if (customFunction.function_type === \"remote\") {\n        const encodedSource = base64Encode(customFunction.source)\n            .replace(/\\+/g, '-') // Convert '+' to '-'\n            .replace(/\\//g, '_') // Convert '/' to '_'\n            .replace(/=+$/, ''); // Remove ending '='\n        return [customFunction.function_type, encodedSource].join(\":\");\n    }\n    return [customFunction.function_type, customFunction.source].join(\":\");\n}\n"]},"metadata":{},"sourceType":"module"}