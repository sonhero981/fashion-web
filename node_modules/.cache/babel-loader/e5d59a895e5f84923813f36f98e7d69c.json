{"ast":null,"code":"import { AutoGravity } from \"../../qualifiers/gravity/autoGravity/AutoGravity.js\";\nimport { FocusOnGravity } from \"../../qualifiers/gravity/focusOnGravity/FocusOnGravity.js\";\nimport { autoGravity } from \"../../qualifiers/gravity.js\";\nimport { FocusOnValue } from \"../../qualifiers/focusOn.js\";\n/**\n * true if gravity starts with 'auto' or 'auto:'\n * @param gravity\n */\n\nfunction isIAutoGravityString(gravity) {\n  return gravity && `${gravity}`.split(':')[0] === 'auto';\n}\n/**\n * Validate that given val is an ICompassGravity\n * @param gravity\n */\n\n\nfunction isCompassGravity(gravity) {\n  //const gravityString = `${(typeof gravity === \"string\" ? gravity : gravity.qualifierValue)}`;\n  const gravityValue = getGravityValue(gravity);\n  return ['north', 'center', 'east', 'west', 'south', 'north_west', 'south_east', 'south_west', 'north_east'].includes(gravityValue);\n}\n/**\n * Get the value of given gravity\n * @param gravity\n */\n\n\nfunction getGravityValue(gravity) {\n  return `${gravity}`.replace('g_', '');\n}\n/**\n * Creates a compassGravity model\n * @param gravity\n */\n\n\nfunction createCompassGravityModel(gravity) {\n  return {\n    compass: getGravityValue(gravity),\n    gravityType: 'direction'\n  };\n}\n/**\n * Validate that given gravity is an instance of ocr gravity\n * @param gravity\n */\n\n\nfunction isOcrGravity(gravity) {\n  return getGravityValue(gravity) === 'ocr_text';\n}\n/**\n * Creates an ocr gravity model\n */\n\n\nfunction createOcrGravityModel() {\n  return {\n    gravityType: 'ocr'\n  };\n}\n/**\n * Validate that given gravity is an instance of AutoGravity\n * @param gravity\n */\n\n\nfunction isAutoGravity(gravity) {\n  return `${gravity.qualifierValue}`.split(':')[0] === 'auto';\n}\n/**\n * Create an instance of IAutoGravityObjectModel\n * @param gravity\n */\n\n\nfunction createIAutoFocusObject(gravity) {\n  const gravityString = gravity.toString();\n  const values = gravityString.split('_');\n  const result = {\n    object: values[0]\n  };\n\n  if (values.length > 1) {\n    if (values[1] === 'avoid') {\n      result.avoid = true;\n    } else {\n      result.weight = +values[1];\n    }\n  }\n\n  return result;\n}\n/**\n * Creates an auto gravity model from given AutoGravity\n * @param gravity\n */\n\n\nfunction createAutoGravityModel(gravity) {\n  let values;\n  const gravityQualifier = gravity === 'auto' ? new AutoGravity() : gravity;\n\n  if (`${gravity}`.startsWith('auto:')) {\n    values = `${gravity}`.split(':').filter(v => v !== 'auto');\n  } else {\n    values = gravityQualifier.qualifierValue.values.filter(v => v !== 'auto');\n  }\n\n  const autoFocus = values.map(createIAutoFocusObject);\n  return {\n    gravityType: 'auto',\n    autoFocus\n  };\n}\n/**\n * Create IFocusOnGravityModel from FocusOnGravity\n * @param gravity\n */\n\n\nfunction createFocusOnGravityModel(gravity) {\n  const hasAutoGravity = `${gravity}`.split(':').includes('auto');\n  const values = gravity.qualifierValue.values;\n  const focusOnValues = hasAutoGravity ? values.slice(0, values.length - 1) : values;\n  const result = {\n    gravityType: 'object',\n    focusOnObjects: focusOnValues.map(v => `${v}`)\n  };\n\n  if (hasAutoGravity) {\n    // Remove the first 'auto' value by slicing it, because it's added by autoGravity()\n    const autoFocusObjects = values[values.length - 1].values.slice(1);\n    const autoGravityInstance = autoGravity().autoFocus(...autoFocusObjects);\n    result.fallbackGravity = createAutoGravityModel(autoGravityInstance);\n  }\n\n  return result;\n}\n/**\n * Creates a FocusOnGravity from given string\n * @param gravity\n */\n\n\nfunction createFocusOnGravity(gravity) {\n  const values = gravity.split(':');\n  const focusOnValues = values.map(g => new FocusOnValue(g));\n  return new FocusOnGravity(focusOnValues);\n}\n/**\n * Create a model of given gravity\n * @param gravity\n */\n\n\nexport function createGravityModel(gravity) {\n  if (isCompassGravity(gravity)) {\n    return createCompassGravityModel(gravity);\n  }\n\n  if (isOcrGravity(gravity)) {\n    return createOcrGravityModel();\n  }\n\n  if (isIAutoGravityString(gravity) || isAutoGravity(gravity)) {\n    return createAutoGravityModel(gravity);\n  }\n\n  return createFocusOnGravityModel(typeof gravity === 'string' ? createFocusOnGravity(gravity) : gravity);\n}","map":{"version":3,"sources":["C:/Users/sonhe/OneDrive/Desktop/New folder/nhom6-csdlnc/client/node_modules/@cloudinary/url-gen/internal/models/createGravityModel.js"],"names":["AutoGravity","FocusOnGravity","autoGravity","FocusOnValue","isIAutoGravityString","gravity","split","isCompassGravity","gravityValue","getGravityValue","includes","replace","createCompassGravityModel","compass","gravityType","isOcrGravity","createOcrGravityModel","isAutoGravity","qualifierValue","createIAutoFocusObject","gravityString","toString","values","result","object","length","avoid","weight","createAutoGravityModel","gravityQualifier","startsWith","filter","v","autoFocus","map","createFocusOnGravityModel","hasAutoGravity","focusOnValues","slice","focusOnObjects","autoFocusObjects","autoGravityInstance","fallbackGravity","createFocusOnGravity","g","createGravityModel"],"mappings":"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","sourcesContent":["import { AutoGravity } from \"../../qualifiers/gravity/autoGravity/AutoGravity.js\";\nimport { FocusOnGravity } from \"../../qualifiers/gravity/focusOnGravity/FocusOnGravity.js\";\nimport { autoGravity } from \"../../qualifiers/gravity.js\";\nimport { FocusOnValue } from \"../../qualifiers/focusOn.js\";\n/**\n * true if gravity starts with 'auto' or 'auto:'\n * @param gravity\n */\nfunction isIAutoGravityString(gravity) {\n    return gravity && `${gravity}`.split(':')[0] === 'auto';\n}\n/**\n * Validate that given val is an ICompassGravity\n * @param gravity\n */\nfunction isCompassGravity(gravity) {\n    //const gravityString = `${(typeof gravity === \"string\" ? gravity : gravity.qualifierValue)}`;\n    const gravityValue = getGravityValue(gravity);\n    return ['north', 'center', 'east', 'west', 'south', 'north_west', 'south_east', 'south_west', 'north_east'].includes(gravityValue);\n}\n/**\n * Get the value of given gravity\n * @param gravity\n */\nfunction getGravityValue(gravity) {\n    return `${gravity}`.replace('g_', '');\n}\n/**\n * Creates a compassGravity model\n * @param gravity\n */\nfunction createCompassGravityModel(gravity) {\n    return {\n        compass: getGravityValue(gravity),\n        gravityType: 'direction'\n    };\n}\n/**\n * Validate that given gravity is an instance of ocr gravity\n * @param gravity\n */\nfunction isOcrGravity(gravity) {\n    return getGravityValue(gravity) === 'ocr_text';\n}\n/**\n * Creates an ocr gravity model\n */\nfunction createOcrGravityModel() {\n    return {\n        gravityType: 'ocr'\n    };\n}\n/**\n * Validate that given gravity is an instance of AutoGravity\n * @param gravity\n */\nfunction isAutoGravity(gravity) {\n    return `${gravity.qualifierValue}`.split(':')[0] === 'auto';\n}\n/**\n * Create an instance of IAutoGravityObjectModel\n * @param gravity\n */\nfunction createIAutoFocusObject(gravity) {\n    const gravityString = gravity.toString();\n    const values = gravityString.split('_');\n    const result = {\n        object: values[0]\n    };\n    if (values.length > 1) {\n        if (values[1] === 'avoid') {\n            result.avoid = true;\n        }\n        else {\n            result.weight = +values[1];\n        }\n    }\n    return result;\n}\n/**\n * Creates an auto gravity model from given AutoGravity\n * @param gravity\n */\nfunction createAutoGravityModel(gravity) {\n    let values;\n    const gravityQualifier = gravity === 'auto' ? new AutoGravity() : gravity;\n    if (`${gravity}`.startsWith('auto:')) {\n        values = `${gravity}`.split(':').filter((v) => v !== 'auto');\n    }\n    else {\n        values = gravityQualifier.qualifierValue.values.filter((v) => v !== 'auto');\n    }\n    const autoFocus = values.map(createIAutoFocusObject);\n    return {\n        gravityType: 'auto',\n        autoFocus\n    };\n}\n/**\n * Create IFocusOnGravityModel from FocusOnGravity\n * @param gravity\n */\nfunction createFocusOnGravityModel(gravity) {\n    const hasAutoGravity = `${gravity}`.split(':').includes('auto');\n    const values = gravity.qualifierValue.values;\n    const focusOnValues = hasAutoGravity ? values.slice(0, values.length - 1) : values;\n    const result = {\n        gravityType: 'object',\n        focusOnObjects: focusOnValues.map((v) => `${v}`)\n    };\n    if (hasAutoGravity) {\n        // Remove the first 'auto' value by slicing it, because it's added by autoGravity()\n        const autoFocusObjects = values[values.length - 1].values.slice(1);\n        const autoGravityInstance = autoGravity().autoFocus(...autoFocusObjects);\n        result.fallbackGravity = createAutoGravityModel(autoGravityInstance);\n    }\n    return result;\n}\n/**\n * Creates a FocusOnGravity from given string\n * @param gravity\n */\nfunction createFocusOnGravity(gravity) {\n    const values = gravity.split(':');\n    const focusOnValues = values.map((g) => new FocusOnValue(g));\n    return new FocusOnGravity(focusOnValues);\n}\n/**\n * Create a model of given gravity\n * @param gravity\n */\nexport function createGravityModel(gravity) {\n    if (isCompassGravity(gravity)) {\n        return createCompassGravityModel(gravity);\n    }\n    if (isOcrGravity(gravity)) {\n        return createOcrGravityModel();\n    }\n    if (isIAutoGravityString(gravity) || isAutoGravity(gravity)) {\n        return createAutoGravityModel(gravity);\n    }\n    return createFocusOnGravityModel(typeof gravity === 'string' ? createFocusOnGravity(gravity) : gravity);\n}\n"]},"metadata":{},"sourceType":"module"}